<?xml version="1.0" encoding="UTF-8"?>
<con:testCase id="cf3e0b4c-e894-4b34-9b4b-c9ba8d665f65" discardOkResults="false" failOnError="false" failTestCaseOnErrors="true" keepSession="false" name="tc_MQ_script" searchProperties="true" timeout="0" xmlns:con="http://eviware.com/soapui/config">
  <con:settings>
    <con:setting id="cf3e0b4c-e894-4b34-9b4b-c9ba8d665f65fileName">tc_MQ_script</con:setting>
  </con:settings>
  <con:testStep type="datagen" name="DataGen" id="8a504b8e-e5e0-481f-aac0-3184ed09d28d">
    <con:settings/>
    <con:config xsi:type="con:DataGeneratorStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/>
  </con:testStep>
  <con:testStep type="transfer" name="Property Transfer" id="8d6f9fa2-92f8-4731-a74f-2713120bc31c">
    <con:settings/>
    <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/>
  </con:testStep>
  <con:testStep type="groovy" name="putMessage" id="38e02056-01b5-44c8-8fff-9eb02da6e701">
    <con:settings/>
    <con:config>
      <script>import com.ibm.msg.client.wmq.*;
import com.ibm.mq.jms.*;
import javax.jms.*;

MQQueueConnectionFactory qcf = new MQQueueConnectionFactory();

qcf.setHostName ("localhost");
qcf.setPort (1414);
qcf.setQueueManager ("QM1");
qcf.setChannel ("DEV.APP.SVRCONN");
qcf .setTransportType (WMQConstants.WMQ_CM_CLIENT);

QueueConnection qc = qcf.createQueueConnection ("app","passw0rd"); 
qc.start();

Queue q = new MQQueue ("DEV.QUEUE.1");
QueueSession s = qc.createQueueSession (false, Session.AUTO_ACKNOWLEDGE);
QueueSender qs = s.createSender (q);

Message m = s.createTextMessage ("Your message text");
qs.send (m);

QueueReceiver qr = s.createReceiver(q);
log.info(qr.receive())</script>
    </con:config>
  </con:testStep>
  <con:properties/>
  <con:reportParameters/>
</con:testCase>
